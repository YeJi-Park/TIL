## Effective Java 3/E

#### Item 72. 표준 예외를 사용하라

- Java 라이브러리는 대부분의 API에서 쓰기에 충분한 수의 예외를 제공함
- 예외도 재사용하는 것이 유용

###### 표준예외 사용의 장점

- 표준 예외를 사용한 API는 다른 사람이 익히고 사용하기 쉬움
- 낯선 예외를 사용하지 않아서 가독성이 높음
- 예외 클래스 수가 적을 수록 메모리 사용이 적고 클래스를 적재하는 시간도 적게 걸림

###### 주로 사용되는 예외

- IllegalArgumentException: 호출자가 인수로 부적절한 값을 넘길 때 던지는 예외

- IllegalStateException: 대상 객체의 상태가 호출된 메서드를 수행하기에 적합하지 않을 때 던지는 예외

  > 제대로 초기화되지 않은 객체

- **잘못된 인수/상태라고 뭉뚱그릴 수 있지만, 특수한 일부는 따로 구분해 사용함**

  - NullPointerException: null 값을 허용하지 않는 메서드에 null을 건네면 관례상 illgalArgument가 아니라 NPE를 던짐
  - IndexOutOfBoundException: 어떤 시퀀스의 허용 범위를 넘는 값을 건넸을 때도 illegalArgument가 아니라 이 오류를 던짐 

- ConcurrentModifficationException: 단일 스레드에서 사용하려고 설계한 객체를 여러 스레드가 동시에 수정하려고 할 때

  > 동시 수정을 확실히 검추할 수 있는 안정된 방법은 없으므로 문제가 생길 가능성을 알려주는 역할

- UnsupportedOperationException: 클라이언트가 요청한 동작(메서드)을 대상 객체가 지원하지 않을 때 사용

  > 원소를 넣을 수만 있는 List 구현체에 remove를 호출했을 때

- ArithmeticException/NumberFormatException: 유리수나 복소수를 다루는 객체에서 사용

-----

###### 표준예외의 사용

- **상황에 부합한다면 항상 표준 예외를 재사용 할 것**

- API 문서를 확인해 그 예외가 어떤 상황에 던져지는지 확인해야 함

  - 이름 뿐만 아니라 던져지는 맥락도 부합할 때만 재사용해야 함

- 추가적인 정보를 제공하고 싶으면 표준 예외를 확장애도 좋음

  > 예외는 직렬화할 수 있기 때문에 만들기 전에 주의해야 함

- 표준 예외의 쓰임이 상호배타적이지 않아 어떤 예외를 사용해야 할 지 선택하기 어려울 때도 있음

  → 인수값이 무엇이었든 어차피 실패했을 거라면 IllegalState, 그렇지 않으면 IllegalArgument

  > 카드 덱을 표현하는 객체가 있고 인수로 받는 수 만큼의 카드를 뽑아 나눠주는 메서드가 있을 때,
  > 덱에 남아 있는 카드 수보다 큰 값을 건넸을 경우
  >
  > 1. 인수의 값이 너무 크다면 IllegalArgument
  > 2. 덱에 남은 카드가 너무 적다면 IllegalState

  